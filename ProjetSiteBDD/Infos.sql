-- TEST

SELECT J.ID_JOUEUR, COUNT(P.ID_PARTIE) FROM PARTIE P, JOUEUR J WHERE P.ID_JOUEUR=J.ID_JOUEUR AND J.ID_JOUEUR = 1 
AND (P.DATE_HEURE_DEB >= SYSDATE-1/24) AND A_GAGNE = 'F' GROUP BY J.ID_JOUEUR;

INSERT INTO PLANCHE VALUES (1,3,2);
INSERT INTO JOUEUR VALUES (1,'ZOZO','ZOZOZO',1,'F');
INSERT INTO PARTIE VALUES (1,'F','21/02/22 10:45:00:00','21/02/22 10:46:00:00',10000,1,1,1);
INSERT INTO PARTIE VALUES (2,'F','21/02/22 07:45:00:00','21/02/22 07:46:00:00',10000,1,1,1);
INSERT INTO PARTIE VALUES (3,'F','21/02/22 10:35:00:00','21/02/22 10:36:00:00',10000,1,1,1);
INSERT INTO PARTIE VALUES (4,'T','21/02/22 10:35:00:00','21/02/22 10:36:00:00',10000,1,1,1);

SELECT J.ID_JOUEUR, COUNT(P.ID_PARTIE) FROM PARTIE P, JOUEUR J WHERE P.ID_JOUEUR=J.ID_JOUEUR GROUP BY J.ID_JOUEUR;

DELETE FROM PARTIE;



-- IMPORTANT
-- RAJOUTER RELATION ENTRE PARTIE ET COLLECTION POUR GERER LE FAIT QU'UNE PARTIE SE JOUE AVEC UN VEHICULE PRECIS (AMBULANCE OU POLICE)
-- DANS CE CAS, RAJOUTER :NEW DANS LE TRIGGER T_B_I_PARTIE POUR QU'ON PARLE INDEPENDAMENT DU VEHICULE ET QU'ON BLOQUE PAS SUR LES AUTRES